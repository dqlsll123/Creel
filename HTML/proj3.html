<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
        <link rel="stylesheet" type="text/css" href="css/bootstrap-3.3-2.6-dist/css/bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>Party Size</title>
        <style>
            .container-fluid{
                margin-top:60px;
            }
            .form-group{
                margin-bottom:0;
            }
            .ui-keyboard {
                border-radius: 0;
                left: 0;
                top: auto;
                bottom: 0;
                position: fixed;
                height: 4em;
                width: 100%;
            }
            .ui-keyboard-keyset{
                margin-top:20px;
            }
            .ui-keyboard-bksp, .ui-keyboard-accept{
                text-transform:uppercase;
                width:48% !important;
            }
            .ui-keyboard-button{
                margin:2px;
                width:5em;
                height:3em;
            }
            .ui-keyboard-text{
                font-size:22px;
            }
            .ui-keyboard-bksp.ui-keyboard-text, .ui-keyboard-accept.ui-keyboard-text{
                text-transform:uppercase;
                width:48% !important;
            }
        </style>
    </head>
    <body>
        <div class="app">
			<nav id='bnav' class="navbar navbar-default">
                <div class="col-xs-3 mdc_title"><h4></h4></div>
                <div class="col-xs-4 current_project"><h4></h4></div>
                <div class="col-xs-2 current_date"><h4></h4></div>
                <div class="col-xs-3 current_clerk"><h4></h4></div>
			</nav>
            <div class="row">
                <div class="right-button">
                    <button type="button" onclick="nextPage()" class="large-button large-font">FIRST ANGLER</button>
                </div>
            </div>
			<div class="container-fluid">
				<div class="row col-xs-12 text-center">
                    <div class="form-group col-xs-8" style="text-align:right">
                        <label for="partySize"><h2 style="margin-top:0">Number of People In Party</h2></label>
                    </div>
                    <div class="form-group col-xs-4" style="padding-left:0">
                        <input type="number" min="0" class="form-control" id="partySize" style="width:20%;" />
                    </div>
                </div>
            </div>
            <div class="navbar navbar-fixed-bottom footer" style="padding-top:0">
                <div class="row buttons">
                    <div class="col-xs-6 left-button"><button type="button" onclick="cancel('proj2.html')" class="large-button large-font cancel">CANCEL PARTY</button></div>
                    <div class="col-xs-6 right-button"><button type="button" onclick="refusedParty('proj2.html')" class="large-button large-font refused">REFUSED</button></div>
                </div>
                <div class="row timer-row">
                    <h3 style="margin-top:10px;">Time Until: <span id="countdown"></span></h3>
                </div>
                <div class="row counter-row" style="font-size:14px">
                    <!---FIRST SET--->
                    <div class="col-xs-4" >
                        <div class="col-xs-6" style="padding:1px">
                            <button type="button" id="btn-count1" class='wide-button' onclick="increase()"></button>
                        </div>
                        <div class="col-xs-3" style="padding:10px">
                            <input type="tel" name="fname" id='count1' class='count form-control' size="3" value="0" style="height:inherit; text-align:center; padding:1px" />
                        </div>
                        <div class="col-xs-3" style="padding:10px">
                            <button type="button" class='small-button' onclick="decrease()">sub</button>
                        </div>
                    </div>
                    <!---SECOND SET--->
                    <div class="col-xs-4">
                        <div class="col-xs-6" style="padding:1px">
                            <button type="button" id="btn-count2" class='wide-button' onclick="increase2()"></button>
                        </div>
                        <div class="col-xs-3" style="padding:10px">
                            <input type="tel" name="fname" id='count2' class='count form-control' size="3" value="0" style="height:inherit; text-align:center; padding:1px" />
                        </div>
                        <div class="col-xs-3" style="padding:10px">
                            <button type="button" class='small-button' onclick="decrease2()">sub</button>
                        </div>
                    </div>
                    <!---THIRD SET--->
                    <div class="col-xs-4">
                        <div class="col-xs-6" style="padding:1px">
                            <button type="button" id="btn-count3" class='wide-button' onclick="increase3()"></button>
                        </div>
                        <div class="col-xs-3" style="padding:10px">
                            <input type="tel" name="fname" id='count3' class='count form-control' size="3" value="0" style="height:inherit; text-align:center; padding:1px" />
                        </div>
                        <div class="col-xs-3" style="padding:10px">
                            <button type="button" class='small-button' onclick="decrease3()">sub</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <script src="Keyboard-master/docs/js/jquery.min.js"></script>
        <script src="Keyboard-master/docs/js/jquery-ui.min.js"></script>
        <script src="Keyboard-master/docs/js/jquery-migrate-1.2.1.min.js"></script>
        <script src="Keyboard-master/js/jquery.keyboard.js"></script>
        <script>
            
            
            $('#partySize').keyboard({
				appendLocally: true,
				autoAccept   : true,
				lockInput: true,
				layout: 'custom',//num
				usePreview: false,
				customLayout : {
				'normal': [
						   '1 2 3',
						   '4 5 6',
						   '7 8 9',
						   ' 0 ',
						   '{bksp} {accept}'
						   ]
				}			
			});
            </script>
        
		<!-- JAVASCRIPT -->
		<script type="text/javascript" src="cordova.js"></script>
		<script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/jquery/jquery.js"></script>
		<script type="text/javascript" src="js/counter.js"></script>
        <script type="text/javascript" src="js/custom.js"></script>
		<script type="text/javascript" src="js/navbar.js"></script>
		<script type="text/javascript" src="js/countdown/jquery.countdown.min.js"></script>
		<script type="text/javascript" src="js/jsonData.js"></script>
        <script type="text/javascript">
			app.initialize();
		</script>
		<script type="text/javascript" src="css/bootstrap-3.3-2.6-dist/js/bootstrap.min.js"></script>
        <script type="text/javascript">
		$(document).ready(function(){
			endSurveyCounter();
		});
		
        function nextPage(){
            var partySize = $('#partySize').val();
            if(isNaN(parseInt(partySize)) || parseInt(partySize) == 0){
                navigator.notification.alert(
                    'Please enter a valid party size!', // message
                    '',                                 // callback
                    'Confirm',                          // title
                    'OK'                                // buttonName
                );
            } else {
                var anglerNumber = "1";
                window.localStorage.setItem("partySize",partySize);
                window.localStorage.setItem("anglerNumber",anglerNumber);
                window.location = "proj4.html";
            }
        }
		
		function refusedParty(target){
			navigator.notification.confirm(
				'Are you sure you wish to refuse?',  // message
				function(buttonIndex){
					onRefuse(buttonIndex, target);
				},         // callback
				'Confirm',            // title
				['OK','Cancel']                  // buttonName
			);
		}

		function onRefuse(buttonIndex, target){
			if(buttonIndex == 1){
				if(target !== undefined){
					//var partyCount = parseInt(window.localStorage.getItem("partyCount"));
					//var newCount = partyCount + 1;
					//window.localStorage.setItem("partyCount",newCount.toString());
					window.location = target;
				}
			}
		}
        </script>
    </body>
</html>
